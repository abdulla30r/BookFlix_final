@model IEnumerable<Profit>

<br />
<br />
<div class="container">
    <div class="col-6">
        <h2 class="text-primary">Profit Table</h2>
    </div>
    <table class="table table-bordered table-striped" style="margin:auto" id="tableToPrint">
        <thead>
            <tr>
                <th>
                    Id
                </th>
                <th>Book Id</th>
                <th>
                    Book Name
                </th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Sale Price</th>
                <th>Profit</th>
            </tr>
        </thead>

        <tbody>
            @{
                decimal totalProfit = 0;
            }
            @foreach (var obj in Model)
            {
                <tr>
                    <td>
                        @obj.Id
                    </td>
                    <td>
                        @obj.BookId
                    </td>
                    <td>
                        @obj.BookName
                    </td>
                    <td>
                        @obj.Price
                    </td>
                    <td>
                        @obj.Quantity
                    </td>
                    <td>
                        @obj.SalePrice
                    </td>
                    <td>
                        @obj.Lav
                        @{
                            totalProfit += obj.Lav;
                        }
                    </td>
                </tr>
            }
        </tbody>

        <tfoot>
            <tr>
                <td colspan="6" style="text-align:right"><strong>Total Profit:</strong></td>
                <td>
                    @totalProfit
                </td>
            </tr>
        </tfoot>
    </table>

    <br />
    <button class="btn btn-primary" onclick="printTable()">Print Table</button>

</div>
<script>
    function printTable() {
        var table = document.getElementById("tableToPrint").outerHTML;
        var textToPrint = "<h2 class='text-primary'>Profit list</h2>";
        var newWin = window.open('', 'Print-Window');
        newWin.document.open();
        newWin.document.write(textToPrint);
        newWin.document.write(table);
        newWin.document.close();
        newWin.print();
        newWin.close();
    }
</script>
